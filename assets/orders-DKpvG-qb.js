import{ad as _,v as y,af as k,_ as t,Z as l,F as r,E as i,Y as n,I as V,a0 as g,aj as d}from"./index-D5AbFdb1.js";import{o as v}from"./order-Cn8SkuBZ.js";import{V as b,a as u,b as m}from"./route-block-DhdQpsR2.js";import{V as h}from"./VContainer-BkXp5onC.js";import{V as w}from"./VDivider-DMlEPX4j.js";import{V as x}from"./VDataTable-CyIU-EZ6.js";import"./VPagination-CzPggjWa.js";import"./VList-D52y1nIb.js";import"./ssrBoot-B8DZFry5.js";const B={__name:"orders",setup(D){const p=_(),c=y([]),f=[{title:"訂單編號",key:"_id"},{title:"建立日期",key:"createdAt",value:e=>new Date(e.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"金額",key:"totalPrice",value:e=>e.cart.reduce((a,o)=>a+o.product.price*o.quantity,0)}];return(async()=>{try{const{data:e}=await v.getMy();c.value=e.result}catch(e){console.error("Error fetching orders:",e),p({text:"無法載入訂單資料",snackbarProps:{color:"red"}})}})(),(e,a)=>(l(),k(h,null,{default:t(()=>[r(b,null,{default:t(()=>[r(u,{col:"12"},{default:t(()=>a[0]||(a[0]=[i("h1",null,"訂單",-1)])),_:1,__:[0]}),r(w),r(u,{cols:"12"},{default:t(()=>[r(x,{headers:f,items:c.value},{"item.cart":t(({value:o})=>[i("ul",null,[(l(!0),n(V,null,g(o,s=>(l(),n("li",{key:s._id},d(s.product.name)+" - "+d(s.quantity)+" 件 ",1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}};typeof m=="function"&&m(B);export{B as default};
